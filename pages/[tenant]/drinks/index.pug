.drinks-page
  .container

      .header-section
        hgroup
          h2 All Drinks
          p Explore drinks from your inventory and TheCocktailDB

      .error-banner(v-if="error")
        .error-icon ‚ö†Ô∏è
        .error-content
          h3 Failed to Load Data
          p {{ error }}
          p.error-help Make sure you can access https://hirelemon.com/bar/api and check your browser's ad blocker settings.

      .search-bar
        form(@submit.prevent="handleSearch")
          input(
            v-model="searchTerm"
            type="text"
            placeholder="Search for cocktails..."
            @keyup.enter="handleSearch"
          )
          button.search-btn(type="submit") Search

      section.filters
        .filter-buttons
          button.filter-btn(:class="{ active: filter === 'all' }" @click="filter = 'all'") All ({{ allDrinksCount }})
          button.filter-btn(:class="{ active: filter === 'beerWine' }" @click="filter = 'beerWine'") Beer & Wine ({{ getInStockBeerWine.length }})
          button.filter-btn(:class="{ active: filter === 'available' }" @click="filter = 'available'") Available ({{ filteredAvailableDrinks.length + availableFingerBottles.length + getInStockBeerWine.length }})
          button.filter-btn(:class="{ active: filter === 'alcoholic' }" @click="filter = 'alcoholic'") Alcoholic ({{ filteredAlcoholicDrinks.length + availableFingerBottles.length }})
          button.filter-btn(:class="{ active: filter === 'nonAlcoholic' }" @click="filter = 'nonAlcoholic'") Non-Alcoholic ({{ filteredNonAlcoholicDrinks.length }})


        // Tag filter selector (moved below filter buttons)
        .tag-filters(v-if="tagOptions.length > 0")
          label Tag Filter:
          TagFilterSelect(v-model="tagFilter" :tags="tagOptions" :totalCount="filteredDrinks.length")

      .loading(v-if="loading") Loading drinks...
      .error(v-if="error") {{ error }}

      section.drinks-section(v-if="filteredDrinks.length > 0 && (filter !== 'beerWine' && filter !== 'fingers')")
        h2.section-title Cocktails
        .drinks-grid
          DrinkCard(
            v-for="drink in filteredDrinks"
            :key="drink.id"
            :drink="drink"
            :show-availability="true"
            :external="drink.external"
            :tenant="tenant"
          )
        .hydrate-btn-container
          button.hydrate-btn(@click="hydrateMoreCocktailDB") Get More Random Cocktails!

      // Beer & Wine Section
      section.beer-wine-section(v-if="getInStockBeerWine.length > 0 && (filter === 'beerWine' || filter === 'all' || filter === 'available' || filter === 'alcoholic')")
        h2.section-title Beer & Wine
        .beer-wine-grid
          .beer-wine-card(v-for="item in getInStockBeerWine" :key="item.id")
            figure.beer-wine-image(:class="{ 'placeholder': !item.image }")
              img(v-if="item.image" :src="item.image" :alt="item.name")
              span.icon(v-else) {{ item.type === 'beer' ? 'üç∫' : 'üç∑' }}
            .text
              .name {{ item.name }}
              .type(v-if="item.subtype") {{ item.subtype }}
      
      // Finger bottles section
      section.fingers-section(v-if="availableFingerBottles.length > 0 && (filter === 'all' || filter === 'available' || filter === 'alcoholic')")
        h2.section-title Special Fingers
        .fingers-grid
          NuxtLink.bottle-card(
            v-for="bottle in availableFingerBottles" 
            :key="bottle.id"
            :class="{ 'is-finger': bottle.isFingers, 'out-of-stock': !bottle.inStock }"
            :to="`/${tenant}/bottles/${bottle.id}`"
          )
            figure.bottle-image(:class="{ 'placeholder': !bottle.image }")
              img(:src="bottle.image" :alt="bottle.name" v-if="bottle.image")
              span.icon(v-else) üçæ
              span.category Fingers
            .card-content
              .card-header
                .card-name {{bottle.name}}
              .card-links
                NuxtLink.card-link(:to="`/${tenant}/drinks/finger-${bottle.id}-straight`") Straight Up
                span  | 
                NuxtLink.card-link(:to="`/${tenant}/drinks/finger-${bottle.id}-rocks`") On The Rocks
