.bottles-page
  .container
    hgroup
      h1.with-count 
        span Your Bottles
        sup.count(v-if="inventory.length > 0") ({{ inventory.length }})
      p Browse your bottle collection

    .error-banner(v-if="error")
      .error-icon ⚠️
      .error-content
        h3 Failed to Load Bottles
        p {{ error }}
        p.error-help Make sure you can access https://hirelemon.com/bar/api and check your browser's ad blocker settings.

    section.filters
      .filter-buttons
        button.filter-btn(
          v-if="getBottleCountForCategory('all') > 0"
          :class="{ active: categoryFilter === 'all' }"
          @click="categoryFilter = 'all'"
        ) All Categories ({{ getBottleCountForCategory('all') }})
        button.filter-btn(
          v-if="getBottleCountForCategory('Staples') > 0"
          :class="{ active: categoryFilter === 'Staples' }"
          @click="categoryFilter = 'Staples'"
        ) Staples ({{ getBottleCountForCategory('Staples') }})
        button.filter-btn(
          v-if="getBottleCountForCategory('Liqueur') > 0"
          :class="{ active: categoryFilter === 'Liqueur' }"
          @click="categoryFilter = 'Liqueur'"
        ) Liqueur ({{ getBottleCountForCategory('Liqueur') }})
        button.filter-btn(
          v-if="getBottleCountForCategory('Premix') > 0"
          :class="{ active: categoryFilter === 'Premix' }"
          @click="categoryFilter = 'Premix'"
        ) Premix ({{ getBottleCountForCategory('Premix') }})
        button.filter-btn(
          v-if="getBottleCountForCategory('Special Occasion') > 0"
          :class="{ active: categoryFilter === 'Special Occasion' }"
          @click="categoryFilter = 'Special Occasion'"
        ) Special Occasion ({{ getBottleCountForCategory('Special Occasion') }})
      
      .tag-filters(v-if="availableTags.length > 0")
        label Filter by Tag
        TagFilterSelect(v-model="tagFilter" :tags="tagOptions" :totalCount="filteredBottles.length")

    section.bottles
      .bottle-grid
        BottleCard(v-for="bottle in filteredBottles" :key="bottle.id" :bottle="bottle" :tenant="tenant")