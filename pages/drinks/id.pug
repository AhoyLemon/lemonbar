// Finger drink display
.drink-detail-page(v-if="isFingerDrink && fingerBottle")
  .container
      .back-navigation
        NuxtLink.btn.btn-back(:to="`/bottles/${fingerBottle.id}`") ‚Üê Back to Bottle
      .drink-hero
        .drink-hero__image(v-if="fingerBottle.image")
          img(:src="fingerBottle.image" :alt="fingerBottle.name")
        .drink-hero__content
          h1 {{ fingerBottle.name }}{{ servingStyle === 'rocks' ? ' On The Rocks' : ', Straight Up' }}
          .badge-row
            span.source-badge.local ü•É Special Finger
            span.category-badge {{ fingerBottle.category }}
          .availability-info
            p(v-if="fingerBottle.inStock") ‚úÖ Available now!
            p(v-else) ‚ö†Ô∏è Currently out of stock

      .drink-content
        .drink-ingredients
          h2 What You'll Need
          ul.ingredients-list
            li.available
              span.ingredient-name {{ fingerBottle.name }}
              span.ingredient-qty 2 oz
            li.available(v-if="servingStyle === 'rocks'")
              span.ingredient-name Ice
              span.ingredient-qty As needed

        .drink-instructions
          h2 Instructions
          .instructions-container
            .instruction-step.scroll-animated(v-if="servingStyle === 'straight'")
              .step-number 1
              p Pour 2 ounces of {{ fingerBottle.name }} into a rocks glass.
            .instruction-step.scroll-animated(v-else-if="servingStyle === 'rocks'")
              .step-number 1
              p Fill a rocks glass with ice.
            .instruction-step.scroll-animated(v-if="servingStyle === 'rocks'")
              .step-number 2
              p Pour 2 ounces of {{ fingerBottle.name }} over the ice.
            .instruction-step.scroll-animated
              .step-number {{ servingStyle === 'rocks' ? '3' : '2' }}
              p Serve and enjoy this special occasion spirit on its own, without any mixers.

// Regular drink display (show skeleton if loading CocktailDB drink)
.drink-detail-page(v-else-if="drink && !isLoading")
  .container
      .back-navigation
        NuxtLink.btn.btn-back(to="/drinks") ‚Üê Back to Drinks
      .drink-hero
        .drink-hero__image(v-if="drinkImageUrl && drink")
          img(:src="drinkImageUrl" :alt="drink.name")
        .drink-hero__content
          h1
            | {{ drink ? drink.name : '' }}
          .badge-row
            span.source-badge(:class="isLocalDrink ? 'local' : 'external'", v-if="drink")
              | {{ isLocalDrink ? 'üè† Local Drink' : 'üåê CocktailDB' }}
            span.category-badge(v-if="drink && drink.category") {{ drink.category }}
            span.prep-badge(v-if="drink && drink.prep") {{ drink.prep }}
          .tags-row(v-if="drink && drink.tags && drink.tags.length > 0")
            span.tag(v-for="tag in drink.tags" :key="tag") \#{{ tag }}
          .availability-info
            p(v-if="drink && isFullyAvailable") ‚úÖ All ingredients available!
            p(v-else-if="drink && !isFullyAvailable") ‚ö†Ô∏è {{ availableCount }}/{{ totalCount }} ingredients available

      .drink-content
        .drink-ingredients
          h2 Ingredients
          ul.ingredients-list(v-if="drink")
            li(
              v-for="(ingredient, index) in drink.ingredients"
              :key="index"
              :class="{ 'available': isIngredientAvailable(ingredient.name), 'optional': ingredient.optional }"
            )
              span.ingredient-name 
                | {{ ingredient.name }}
                span.optional-label(v-if="ingredient.optional")  (optional)
              span.ingredient-qty(v-if="ingredient.qty") {{ ingredient.qty }}

        .drink-instructions
          h2 Instructions
          .instructions-container(v-if="drink")
            .instruction-step(
              v-for="(step, index) in instructionSteps"
              :key="index"
              class="scroll-animated"
            )
              .step-number {{ index + 1 }}
              p {{ step }}

.drink-detail-page.drink-skeleton(v-else-if="(isLoading)")
  .container
    .back-navigation
      NuxtLink.btn.btn-back(to="/drinks") ‚Üê Back to Drinks

    .drink-hero
      .drink-hero__image.skeleton
        .skeleton-img
          img(src="https://picsum.photos/800/600")
      .drink-hero__content
        h1 Loading drink...
        .badge-row
          span.source-badge.external.skeleton 
            span.skeleton-text loading
          span.category-badge.skeleton
            span.skeleton-text loading
          span.prep-badge.skeleton 
            span.skeleton-text loading
        .tags-row
          span.tag.skeleton 
            span.skeleton-text loading
          span.tag.skeleton 
            span.skeleton-text loading
        .availability-info.skeleton
          p.skeleton-text loading
    
    .drink-content
      .drink-ingredients.skeleton
        h2 Ingredients
        ul.ingredients-list
          li(v-for="n in 4" :key="n")
            span.ingredient-name.skeleton-text &nbsp;
            span.ingredient-qty.skeleton-text &nbsp;

      .drink-instructions
        h2 Instructions
        .instructions-container
          .instruction-step.skeleton(v-for="n in 3" :key="n")
            .step-number &nbsp;
            p.skeleton-text &nbsp;


// ERROR: Drink not found
.not-found(v-else-if="dataReady && !isLoading && !drink && !isFingerDrink")
  .container
    h2 Drink Not Found
    p The drink you're looking for doesn't exist.
    NuxtLink.btn.btn-primary(to="/drinks") Back to Drinks